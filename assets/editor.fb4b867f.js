import{s as _,v as E,w as x,d,r as m,a as f,c as v,x as p,y as g,z as k,u as b,o as j,A as C,g as a,b as l,f as w,B as R,h as P}from"./app.48af1194.js";import{a as y,i as T,g as V,u as A}from"./editor.cc2ba71a.js";import{_ as D}from"./All.bf1261b9.js";import"./yamlWorker.73890f48.js";import"./editorWorker.5e336211.js";const M=async()=>{if(window.monaco)return{monaco:window.monaco};const i=await _(()=>import("./editor.main.89cdaf49.js").then(function(e){return e.b}),["assets/editor.main.89cdaf49.js","assets/editor.main.3d5e34c3.css","assets/editorWorker.5e336211.js"]);return window.monaco=i,await Promise.all([(async()=>{const[{default:e},{default:t}]=await Promise.all([_(()=>import("./editor.worker.79ccaf77.js"),[]),_(()=>import("./yaml.worker.1791b7d5.js"),[])]);self.MonacoEnvironment={getWorker(n,r){return r==="yaml"?new t:new e}}})()]),E()&&await new Promise(e=>x(e)),{monaco:i}};const W=d({setup(i){let e;const t=y(),n=m();async function r(){if(T){const{monaco:o}=await M();n.value&&!e&&(e=o.editor.create(n.value,{language:"yaml",theme:p.value?"vs-dark":"vs",wordWrap:"on",value:t.resumeText}),self.addEventListener("resize",()=>{e.layout()}),t.setEditor(e),e.onDidChangeModelContent(s=>{t.setResume(e.getValue())})),g(p,s=>{o.editor.setTheme(s?"vs-dark":"vs")})}}return r(),(o,s)=>(f(),v("div",{id:"editor-container",ref:(c,u)=>{u.container=c,n.value=c}},null,512))}});const B={class:"editor-page text-center"},I={class:"preview-container"},L={class:"resume-container resume"},S={class:"editor-container"},$={class:"resume-btn mt-3",href:"/resume",target:"_blank"},Y=d({setup(i){const e=y(),{t}=k(),n=b(),r=m(e.resumeText);return j(async()=>{var o;if(!V("text")){const s=`# ${t("editor.name")}
${await A(n.query.url)}`;e.setResume(s),(o=e.codeEditor)==null||o.setValue(s)}}),(o,s)=>{const c=D,u=W,h=C("client-only");return f(),v("div",B,[a("div",I,[a("div",L,[l(c,{resume:w(e).resumeJson},null,8,["resume"])]),a("div",S,[l(h,null,{default:R(()=>[l(u,{text:r.value},null,8,["text"])]),_:1})])]),a("div",null,[a("a",$,P(w(t)("button.see_resume")),1)])])}}});export{Y as default};
